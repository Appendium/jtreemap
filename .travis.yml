language: java
sudo: false
install: true
addons:
  sonarcloud:
    organization: benoitx-github
    token:
      secure: 13b70009cbae7646c3458517212a3ba73faff609
git:
  depth: false
env:
  global:
  - SONATYPE_USERNAME=benoitx
  - secure: "TAHPV5spTCISwqM9s6914NSHhad1VzoYIk6kX4D+dDlHprRXzTxn090P9Dn/FAVAheRIDkWjCod50a32uEkmMr+mExrqhsrWNDXxhPpgq/rpHv2qsGUbquVC5fYT/iKOKqttetYvj86s7X9sTUdFoQVr3Xv3I3CYbyT7xI8KnzDT2TSialxnrAeLFoCJYBljl5JeUOP6x+pGTKsr0wmi3x7b4V3Ahj80wbSDW3Y2v0TGb7IS0KHBOpHMpEFoyhrxCFhsH6xEb0PYT1bzvfpDWyutChyrD1rSA0+M6ENk2QvHBV9h+v7v2mtc7HOF7uiZ7YHEFsGHvJz0DAXeJYBM8rJWPBJ2eV6ayBd3o1L8KcPpf1P3Ps5Lj+xhmN6KfJhDLXP0cDpLBUzc7y6JwVFClcKhwxU9HNhZP72VvbH796oHFhWYu5Nmrpva91/qo/XnPWMP7u0QjyzhYiGqoBnTgO6JGDTlNUlYL5rcTRsPgVIc+4OWbWC85JRA7o92KBic8H7JfT2ylBQejw9FolxA6vx59K/DiFhEXoJh+pMIDqTjEd58K6mEkP1LurqgELHpAqYFgojoCHY21dWN5KcQxWC9/MfNrPtKAGyh/kOeITjGzYzrSiVcCX76qqNkSb2ADPAUycrHnfneCbUwrhwR7GQhcy6PG/cDllR0hrMe9ik="  
jdk:
- oraclejdk8
script:
- mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent package sonar:sonar
cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
notifications:
  email:
    recipients:
    - opensource@appendium.com
    on_success: always
    on_failure: always
  slack:
    secure: hrRnpmD/K9ue2dGlob13noutgkFqP9xrfhRDG9tSje3sMSizWd7Yz7pIHqZesOrFKX8KqmBqsqgRyi83pX5Vp0DlAACsf15VReTdz9ogswKKPIRuaMb7CcgxqHM309CpdwlAsHIpSZ9NQyy/TCmYPw9eKIc9mGL+zJZUayf62iuJ0he5FDwuheSGUS5+aiK5T4UHu5cRzxB5bzMGzJDouoLcoKw5i2ceyFoDrJKHXzDdGoeRB/pNmAKhZBR3i1zkjxW412NHLhnpKIDElu6hjl4LFL2h5dh9irkTs9St7TMQCpmoa+mI7reMSUQlFIu+YyjRb3n9P7jcpqu4SJeb1v6p5yBqwLvq0sqQID8yqFHrBQnBpWl6K4vQx5+ummR2D0jvCT7aDid7OakXMYIN88vxBYq/LI/I56R1zsBhbwVCdhaCGvflc6j0SyEd/02kJbm196ZfXW/Kh4VjNtgWpQqQ9EBlGcIkFvx8fWrwZ1b193D/ZZD4+e/Kg66hH9KJ6Et/Jw4N6qTDRi4HsGk/rSp7VsGN5QlFxNWQRI8sOMOu5GKBCd9eqstTCh1rfY7xlgJ4tqQVwDgNdhF0UVly51Tywn09wYdznBnkJ9U0PisQIlCs5enySuV+e19ssoPFqrQAoVM06zxARwGBJiyh5eXldev5GwaavmVTiLTW9aY=
after_success:
- '[[ $TRAVIS_BRANCH == "master" ]] && { python travis/addServer.py; mvn clean deploy
  --settings ~/.m2/mySettings.xml; };'
